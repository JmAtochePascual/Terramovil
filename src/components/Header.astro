---
import { Image } from 'astro:assets';

import menuIcon from '@assets/icons/menu-logo.svg';
import logo from '@assets/img/terramovil_logo.png';

import { NAV_LINKS } from '@data/navigations.ts';

const currentPath = Astro.url.pathname.replace(/\/$/, '');
const BASE = import.meta.env.BASE_URL.replace(/\/$/, '');
const HOME_URL = BASE || '/';
---

<header class="bg-primary sticky top-0 z-30 py-6 shadow-md">
	<div class="max-w-container mx-auto flex w-[95%] items-center justify-between">
		<a href={HOME_URL} class="cursor-pointer">
			<Image src={logo} alt="Logo Terramovil" width={300} height={27} class="w-[200px] lg:w-[300px]" loading="eager" />
		</a>

		<nav class="hidden items-center md:flex lg:gap-6">
			{
				NAV_LINKS.map((link) => {
					const isActive = currentPath === link.href;

					return (
						<a
							href={link.href}
							class={`block border-b-2 p-2 text-white transition-colors lg:text-lg ${
								isActive ? 'border-white font-bold' : 'border-transparent hover:border-white/50 hover:text-white/90'
							}`}>
							{link.label}
						</a>
					);
				})
			}
		</nav>

		<button class="md:hidden" aria-label="Abrir menú de navegación">
			<Image src={menuIcon} alt="Menú" width={24} height={24} />
		</button>
	</div>
</header>
