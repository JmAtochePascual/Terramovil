---
import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';

// Definimos la estructura del Feature
interface Feature {
	title: string;
	description: string;
	icon: ImageMetadata; // Recibe la imagen procesada
}

interface Props {
	subtitle: string;
	title: string;
	description: string;
	image: ImageMetadata;
	imageAlt: string;
	features: Feature[];
	reverse?: boolean;
}

const { subtitle, title, description, image, imageAlt, features, reverse = false } = Astro.props;
---

<section class="w-full bg-white py-16 lg:py-24">
	<div class="max-w-container mx-auto flex w-11/12 flex-col gap-12 lg:grid lg:grid-cols-2 lg:items-center lg:gap-20">
		<div class={`relative h-full w-full ${reverse ? 'lg:order-2' : 'lg:order-1'}`}>
			<Image
				src={image}
				alt={imageAlt}
				class="h-auto w-full rounded-2xl object-cover shadow-xl lg:min-h-[500px]"
				width={800}
			/>
		</div>

		<div class={`flex flex-col gap-8 ${reverse ? 'lg:order-1' : 'lg:order-2'}`}>
			<div class="flex flex-col gap-4">
				<span class="text-primary text-sm font-bold tracking-wider uppercase">
					{subtitle}
				</span>
				<h2 class="text-3xl leading-tight font-bold text-gray-900 md:text-5xl">
					{title}
				</h2>
				<p class="text-lg leading-relaxed text-gray-600">
					{description}
				</p>
			</div>

			<div class="grid grid-cols-1 gap-x-6 gap-y-10 pt-4 md:grid-cols-2">
				{
					features.map((item) => (
						<div class="flex flex-col gap-3">
							<div class="h-10 w-10">
								<Image src={item.icon} alt={item.title} class="h-full w-full object-contain" />
							</div>

							<div class="flex flex-col gap-2">
								<h3 class="text-lg font-bold text-gray-900">{item.title}</h3>
								<p class="text-sm leading-relaxed text-gray-600">{item.description}</p>
							</div>
						</div>
					))
				}
			</div>
		</div>
	</div>
</section>
